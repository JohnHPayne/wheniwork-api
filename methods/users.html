
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">

    <!-- Always force latest IE rendering engine or request Chrome Frame -->
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">

    <!-- Use title if it's in the page YAML frontmatter -->
    <title>API Documentation</title>

    <link href="http://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,600,400italic" media="screen" rel="stylesheet" type="text/css" />
    <link href="../stylesheets/screen.css" media="screen" rel="stylesheet" type="text/css" />
    <link href="../stylesheets/print.css" media="print" rel="stylesheet" type="text/css" />
    <script src="http://code.jquery.com/jquery-1.10.1.min.js"></script>
    <script src="../javascripts/all.js" type="text/javascript"></script>

    <script>
      $(function() {
        var toc = $("#toc").tocify({
          selectors: "h1,h2",
          extendPage: false,
          theme: "none",
          smoothScroll: false,
          showEffectSpeed: 0,
          hideEffectSpeed: 180,
          ignoreSelector: ".toc-ignore",
          hashGenerator: 'pretty',
          highlightOffset: 60,
          scrollTo: -2,
          scrollHistory: true,
          hashGenerator: function(text, element) {
            return element[0].getAttribute('id');
          }
        }).data("toc-tocify");
        // Hack to make already open sections to start opened,
        // instead of displaying an ugly animation
        setTimeout(function() {
          toc.setOption("showEffectSpeed", 180);
        },50);
        setupLanguages([
          
        ]);
      });
    </script>
  </head>

  <body class="methods methods_users">
    <div class="tocify-wrapper">
      <img src="../images/logo.svg" />
      <div id="toc">
      </div>
      
    </div>
    <div class="page-wrapper">
      <div class="content">
        <blockquote>
<p>Example Object</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4364</span><span class="p">,</span><span class="w">
  </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goldie"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wilson"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goldiewilson@hillvalleycalifornia.gov"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hours_preferred"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hours_max"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
  </span><span class="s2">"hourly_rate"</span><span class="p">:</span><span class="w"> </span><span class="mf">15.5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"role"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
  </span><span class="s2">"positions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">12284</span><span class="p">,</span><span class="w">
    </span><span class="mi">9554</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"locations"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="mi">34</span><span class="p">,</span><span class="w">
    </span><span class="mi">58934</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
  </span><span class="s2">"activated"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Th3m@y0R"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Users are the employees, supervisors, and managers that have access to your WhenIWork</p>

<h3 id="user-object">User Object</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>integer</strong><br />Unique identifier for the user.</td>
</tr>
<tr>
<td>first_name</td>
<td><strong>string</strong><br />First name of this user.</td>
</tr>
<tr>
<td>last_name</td>
<td><strong>string</strong><br />Last name of this user.</td>
</tr>
<tr>
<td>email</td>
<td><strong>string</strong><br />The email address of this user.</td>
</tr>
<tr>
<td>phone_number</td>
<td><strong>string</strong><br />The phone number of this user.</td>
</tr>
<tr>
<td>hours_preferred</td>
<td><strong>float</strong><br />The preferred number of hours for the user.</td>
</tr>
<tr>
<td>hours_max</td>
<td><strong>float</strong><br />Max hours this user can work.</td>
</tr>
<tr>
<td>hourly_rate</td>
<td><strong>float</strong><br />The hourly rate for this user.</td>
</tr>
<tr>
<td>role</td>
<td><strong>integer</strong><br />The user&rsquo;s role.<br> 2 = Manager<br> 5 = Supervisor<br> 3 = Employee (default)</td>
</tr>
<tr>
<td>positions</td>
<td><strong>array (of IDs)</strong><br />An array of positions to be assigned to the user.</td>
</tr>
<tr>
<td>locations</td>
<td><strong>array (of IDs)</strong><br />An array of locations to be applied to the user.</td>
</tr>
<tr>
<td>notes</td>
<td><strong>string</strong><br />Notes about the user</td>
</tr>
<tr>
<td>activated</td>
<td><strong>boolean</strong><br />Whether the manager has activated this user.</td>
</tr>
<tr>
<td>password</td>
<td><strong>string</strong><br />Set a password, but only on user creation, not update. (write only)</td>
</tr>
</tbody></table>

<h2 id="listing-users">Listing Users</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell">curl https://api.wheniwork.com/2/users/?location_id<span class="o">=</span>1 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</pre><pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"users"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"users"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4364</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goldie"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wilson"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goldiewilson@hillvalleycalifornia.gov"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">27384</span><span class="p">,</span><span class="w">
      </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Jennifer"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Parker"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"jen.parker@example.com"</span><span class="p">,</span><span class="w">
      </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>This method allows you to search for users. See the parameters below for all the options.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wheniwork.com/2/users</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>location_id</td>
<td><strong>integer, string</strong><br />Only show shifts for a location, or multiple (e.g. 1,5,3).</td>
</tr>
</tbody></table>

<h2 id="get-existing-user">Get Existing User</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell">curl https://api.wheniwork.com/2/users/1 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</pre><pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">get</span><span class="p">(</span><span class="s2">"users/1"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"user"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">4364</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Goldie"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Wilson"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"goldiewilson@hillvalleycalifornia.gov"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"phone_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"555-555-5555"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"notes"</span><span class="p">:</span><span class="w"> </span><span class="s2">"This user excels at awesome."</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://api.wheniwork.com/2/users/{id}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID of the user requested.</td>
</tr>
</tbody></table>

<h2 id="create-new-user">Create New User</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell">curl https://api.wheniwork.com/2/users --data <span class="s1">'{"first_name":"FirstName", "last_name": "LastName", "email": "user@email.com"}'</span> -H <span class="s2">"W-Token: ilovemyboss"</span>
</pre><pre class="highlight php">$wiw = new Wheniwork("ilovemyboss");
$result = $wiw-&gt;post("users/", array("first_name"=&gt;"FirstName", "last_name"=&gt;"LastName", "email"=&gt;"user@email.com"));
</pre>
<blockquote>
<p>Example Response
&ldquo;`json
{
  &quot;user&rdquo;:
  {
    &ldquo;id&rdquo;:479,
    &ldquo;account_id&rdquo;:23,
    &ldquo;login_id&rdquo;:0,
    &ldquo;timezone_id&rdquo;:0,
    &ldquo;country_id&rdquo;:233,
    &ldquo;migration_id&rdquo;:0,
    &ldquo;role&rdquo;:3,
    &ldquo;is_payroll&rdquo;:false,
    &ldquo;is_trusted&rdquo;:0,
    &ldquo;type&rdquo;:1,
    &ldquo;email&rdquo;:&ldquo;user@email.com&rdquo;,
    &ldquo;first_name&rdquo;:&ldquo;FirstName&rdquo;,
    &ldquo;last_name&rdquo;:&ldquo;LastName&rdquo;,
    &ldquo;phone_number&rdquo;:&ldquo;&rdquo;,
    &ldquo;employee_code&rdquo;:&ldquo;&rdquo;,
    &ldquo;avatar&rdquo;:
    {
      &ldquo;url&rdquo;:&ldquo;http:\/\/avatar.wheniwork.com\/wiw\/7c556820bbef6968e4bfc33418421fcd.png?s=%s&amp;t=479&rdquo;,
      &ldquo;size&rdquo;:&ldquo;%s&rdquo;
    },
    &ldquo;password&rdquo;:false,
    &ldquo;activated&rdquo;:true,
    &ldquo;is_hidden&rdquo;:false,
    &ldquo;uuid&rdquo;:&ldquo;21e0aca0a2137638e1d3eb6a940cd68e3007eab8&rdquo;,
    &ldquo;notes&rdquo;:&ldquo;&rdquo;,
    &ldquo;affiliate&rdquo;:0,
    &ldquo;is_private&rdquo;:true,
    &ldquo;infotips&rdquo;:&ldquo;&rdquo;,
    &ldquo;hours_preferred&rdquo;:0,
    &ldquo;hours_max&rdquo;:40,
    &ldquo;hourly_rate&rdquo;:0,
    &ldquo;alert_settings&rdquo;:
    {
      &ldquo;timeoff&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:true
      },
      &ldquo;swaps&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:true
      },
      &ldquo;schedule&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:true
      },
      &ldquo;reminders&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:true
      },
      &ldquo;availability&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:true
      },
      &ldquo;new_employee&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:true
      },
      &ldquo;attendance&rdquo;:
      {
        &ldquo;sms&rdquo;:false,
        &ldquo;email&rdquo;:false
      }
    },
    &ldquo;reminder_time&rdquo;:2,
    &ldquo;sleep_start&rdquo;:&ldquo;23:00:00&rdquo;,
    &ldquo;sleep_end&rdquo;:&ldquo;05:00:00&rdquo;,
    &ldquo;my_positions&rdquo;:[],
    &ldquo;last_login&rdquo;:&ldquo;Tue, 29 Nov -001 18:00:00 -0600&rdquo;,
    &ldquo;notified_at&rdquo;:&ldquo;Tue, 29 Nov -001 18:00:00 -0600&rdquo;,
    &ldquo;created_at&rdquo;:&ldquo;Tue, 23 Sep 2014 13:10:31 -0500&rdquo;,
    &ldquo;updated_at&rdquo;:&ldquo;Tue, 23 Sep 2014 13:10:31 -0500&rdquo;,
    &ldquo;is_deleted&rdquo;:false,
    &ldquo;login_email&rdquo;:null,
    &ldquo;positions&rdquo;:[],
    &ldquo;locations&rdquo;:[9],
    &ldquo;position_rates&rdquo;:[],
    &ldquo;position_quality&rdquo;:[]
  }
}</p>
</blockquote>
<pre class="highlight plaintext">
### HTTP Request

`POST https://api.wheniwork.com/2/users`

### Parameters

The `POST` body can include fields from the [User Object](#users). You will need
to include at least the 'email' field in the body of the request.

### Additional Params

Key | Description
--- | -----------
reactivate | &lt;strong&gt;boolean&lt;/strong&gt;&lt;br /&gt;Pass this to reactivate a previously deleted user.

## Update Existing User

### HTTP Request
`PUT https://api.wheniwork.com/2/users/{id}`

### Parameters

The `PUT` body can include fields from the [User Object](#users).

### Additional Params

Key | Description
--- | -----------
reactivate | &lt;strong&gt;boolean&lt;/strong&gt;&lt;br /&gt;Pass this to reactivate a previously deleted user.




## Invite Users

&gt; Example Request

```shell
curl -X POST https://api.wheniwork.com/2/users/invite/ \
 --data '{"ids":[14,15,67]}' \
 -H "W-Token: ilovemyboss"
</pre><pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">post</span><span class="p">(</span><span class="s2">"users/invite/"</span><span class="p">,</span> <span class="k">array</span><span class="p">(</span><span class="s2">"ids"</span><span class="o">=&gt;</span><span class="k">array</span><span class="p">(</span><span class="mi">14</span><span class="p">,</span><span class="mi">15</span><span class="p">,</span><span class="mi">67</span><span class="p">)));</span>
<span class="cp">?&gt;</span>
</pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="mi">3</span><span class="p">,</span><span class="w">
  </span><span class="s2">"sms"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Users can be invited by managers, or by supervisors. This will send them an email or text message inviting them to register. Users must already be created to be invited.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wheniwork.com/2/users/invite/</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>ids</td>
<td><strong>array</strong><br />List of IDs of users to invite.</td>
</tr>
<tr>
<td>send_all</td>
<td><strong>boolean</strong><br />Invite all users without a login. <code class="prettyprint">ids</code> parameter is ignored.</td>
</tr>
<tr>
<td>message</td>
<td><strong>string</strong><br />An optional message to include in the email invite.</td>
</tr>
</tbody></table>

<p>You can also invite a single user with the following.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://api.wheniwork.com/2/users/invite/{id}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>integer</strong><br />The ID of the user to invite.</td>
</tr>
<tr>
<td>message</td>
<td><strong>string</strong><br />An optional message to include in the email invite.</td>
</tr>
</tbody></table>

<h2 id="delete-user">Delete User</h2>

<blockquote>
<p>Example Request</p>
</blockquote>
<pre class="highlight shell">curl -X DELETE https://api.wheniwork.com/2/users/4364 <span class="se">\</span>
 -H <span class="s2">"W-Token: ilovemyboss"</span>
</pre><pre class="highlight php"><span class="cp">&lt;?php</span>
<span class="nv">$wiw</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Wheniwork</span><span class="p">(</span><span class="s2">"ilovemyboss"</span><span class="p">);</span>
<span class="nv">$result</span> <span class="o">=</span> <span class="nv">$wiw</span><span class="o">-&gt;</span><span class="na">delete</span><span class="p">(</span><span class="s2">"users/4364"</span><span class="p">);</span>
<span class="cp">?&gt;</span>
</pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json"><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre>
<p>Users can be deleted by managers, or by supervisors. If a supervisor, the user must be able to manage all locations the user is attached to.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://api.wheniwork.com/2/users/{id}</code></p>

<h3 id="parameters">Parameters</h3>

<table><thead>
<tr>
<th>Key</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>ID of the shift requested.</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
        <div id="lang-selector">
          
        </div>
      </div>
    </div>
  </body>
</html>